# é—®é¢˜èƒŒæ™¯
æ¥è‡ªäºçŸ¥ä¹çš„å‡ ä¸ªé—®é¢˜ï¼Œéƒ½æ˜¯æœ‰å…³äº ARP å’Œ 64 å­—èŠ‚æ–¹é¢ï¼Œä¸»è¦å¦‚ä¸‹ï¼š

1. [ARPæŠ¥æ–‡é•¿åº¦ä¸ºä»€ä¹ˆå¯ä»¥å°äº64ï¼Ÿ](https://www.zhihu.com/question/365469180)

2. [wiresharkä¸‹æŠ“å–arpæŠ¥æ–‡é•¿åº¦ä¸å…¨ä¸º42Bï¼Ÿ](https://www.zhihu.com/question/268902484)

3. [ä¸ºä»€ä¹ˆWiresharkæŠ“åˆ°çš„ARPåŒ…é•¿åº¦å°äº64?](https://www.zhihu.com/question/348389934)

<br/>

# é—®é¢˜åˆ†æ
ä»¥ä¸‹å°±ä¸Šè¿°ä¸‰ä¸ªé—®é¢˜ç®€å•åˆ†æä¸€ä¸‹ï¼Œé¦–å…ˆæ˜¯é—®é¢˜ 1 å’Œ 2 ï¼š


![](https://cdn.nlark.com/yuque/0/2021/png/2777842/1613568896725-4dcf6120-f149-4a1a-a155-b24883881d9a.png#align=left&display=inline&height=941&margin=%5Bobject%20Object%5D&originHeight=478&originWidth=720&size=0&status=done&style=none&width=1417)


_**ä¸ºä»€ä¹ˆå¯ä»¥å°äº 64 ï¼Ÿ**_
64 å­—èŠ‚çš„è¯´æ³•ï¼Œæˆ‘æƒ³å¤§å®¶åº”è¯¥éƒ½çŸ¥é“æ˜¯ä»€ä¹ˆæ ·çš„ç»„æˆã€‚
> 14 å­—èŠ‚ ( Ethernet II é¦–éƒ¨é•¿åº¦ ) + 46 å­—èŠ‚ ( æ•°æ®å­—æ®µæœ€å°é•¿åº¦è¦æ±‚ ) + 4 å­—èŠ‚ ( CRC ) = 64 å­—èŠ‚

å› æ­¤æ•°æ®å­—æ®µçš„æœ€å°é•¿åº¦æ˜¯ 46 å­—èŠ‚ï¼Œè¿™æ„å‘³ç€å¦‚æœæ˜¯ ARP æ•°æ®åŒ…ï¼Œåˆ™ 46 å­—èŠ‚çš„ç»„æˆå¦‚ä¸‹
> 28 å­—èŠ‚ ( ARP è¯·æ±‚æˆ–åº”ç­” ) + 18 å­—èŠ‚ ( Padding å¡«å……æ•°æ® ) = 46 å­—èŠ‚

<br/>

**_ä¸ºä»€ä¹ˆå…¶ä¸­ä¸€ä¸ª ARP æŠ¥æ–‡é•¿åº¦æ˜¾ç¤ºæ˜¯ 42 ï¼Ÿ_**
åŸå› æ˜¯ Wireshark çš„æŠ“åŒ…æ–¹å¼ï¼ˆæˆ–è€…è¯´æ˜¯åŸç†ï¼Œæœ€åé™„ç®€å›¾ï¼Œè¯¦ç»†çš„å¯ä»¥çœ‹ä¸‹å®˜ç½‘è¯´æ˜ï¼‰å’Œä½ç½®ï¼ŒWireshark æŠ“åŒ…ä½ç½®å¦‚æœæ˜¯åœ¨æœ¬åœ°ï¼Œé‚£ä¹ˆå¯¹äºæœ¬åœ°äº§ç”Ÿæ‰€å‘å‡ºçš„æ•°æ®åŒ…ï¼Œæ˜¯åœ¨è¿›ç½‘å¡ä¹‹å‰æ‰€æŠ“å–çš„åŒ…ï¼Œè€Œå¡«å……æ•°æ®ä»¥åŠ CRC ä¸€èˆ¬æ˜¯ç”±ç½‘å¡ç¡¬ä»¶/é©±åŠ¨ç¨‹åºå®Œæˆï¼Œæ‰€ä»¥ 42 å­—èŠ‚çš„ç»„æˆå¹¶ä¸åŒ…å«å¡«å……æ•°æ®å’Œ CRC éƒ¨åˆ†ã€‚
> 14 å­—èŠ‚ ( Ethernet II é¦–éƒ¨é•¿åº¦ ) + 28 å­—èŠ‚ ( ARP è¯·æ±‚æˆ–åº”ç­” ) = 42 å­—èŠ‚

<br/>

**_ä¸ºä»€ä¹ˆå¦ä¸€ä¸ª ARP æŠ¥æ–‡é•¿åº¦æ˜¾ç¤ºæ˜¯ 60 ï¼Ÿ_**
ç»¼åˆä»¥ä¸Šï¼Œå°±å¾ˆå¥½ç†è§£äº†ï¼Œ60 æ˜¯æ¥è‡ªå¯¹æ–¹çš„ ARP å“åº”åŒ…ï¼ŒåŒ…å«äº†å¡«å……æ•°æ® (å¯¹æ–¹ç½‘å¡å®Œæˆ)ï¼Œä½†ä¸å« CRC éƒ¨åˆ† (æœ¬åœ°ç½‘å¡å‰¥ç¦»ï¼Œå¯ä»¥è¯´æ™®é€šç½‘å¡åŸºæœ¬éƒ½ä¼šå‰¥ç¦»å®ƒï¼ŒWireshark çœ‹ä¸åˆ° CRC éƒ¨åˆ†)ã€‚
> 14 å­—èŠ‚ ( Ethernet II é¦–éƒ¨é•¿åº¦ ) + 46 å­—èŠ‚ ( æ•°æ®å­—æ®µæœ€å°é•¿åº¦è¦æ±‚ )  = 60 å­—èŠ‚

<br/>

# é—®é¢˜æ‰©å±•
**æ¥è‡ªäºé—®é¢˜ 3 ï¼Œ56 å­—èŠ‚çš„ ARP æ•°æ®åŒ… ï¼Ÿï¼Ÿï¼Ÿ**

![](https://cdn.nlark.com/yuque/0/2021/png/2777842/1613572479530-ca4edc54-42f0-437c-afb8-bb699c689881.png#align=left&display=inline&height=470&margin=%5Bobject%20Object%5D&originHeight=470&originWidth=946&size=0&status=done&style=none&width=946)


å’Œæ­£å¸¸çš„ 60 å­—èŠ‚çš„ ARP æ•°æ®åŒ…ï¼Œåšä¸‹å¯¹æ¯”


![](https://cdn.nlark.com/yuque/0/2021/png/2777842/1613572658107-c107c9de-4710-450c-9342-b50f068e0cd2.png#align=left&display=inline&height=470&margin=%5Bobject%20Object%5D&originHeight=470&originWidth=946&size=0&status=done&style=none&width=946)

<br/>

ä¹‹å‰å›ç­”é—®é¢˜å¤§æ¦‚åˆ†æäº†ä¸‹ï¼Œä¸è¿‡æé—®äººå¹¶æ²¡æœ‰è¿›ä¸€æ­¥åé¦ˆæŠ“åŒ…ç¯å¢ƒï¼Œä¹Ÿå°±æ²¡æœ‰è¿›ä¸€æ­¥æ±‚è¯äº†ï¼Œæƒå½“ä»¥ä¸‹æ˜¯æ ‡å‡†ç­”æ¡ˆäº†  ğŸ˜ 


**_ä¸ºä»€ä¹ˆ ARP æŠ¥æ–‡é•¿åº¦æ˜¾ç¤ºæ˜¯ 56 ï¼Ÿ_**
å¯¹æ¯”çœ‹äº†ä¸‹æºmacï¼Œä¸€ä¸ªappleï¼Œä¸€ä¸ªhuaweiï¼Œåº”è¯¥æ˜¯ä¸¤ä¸ªè®¾å¤‡ç½‘å¡æ”¯æŒ 802.1Q æ ‡è®°ä¸å¦çš„åŒºåˆ«ã€‚apple æ”¯æŒï¼Œæ‰€ä»¥å‘å‡ºæ¥çš„ arp æ•°æ®åŒ…ï¼Œå°±åŒ…å«æœ‰ 4 å­—èŠ‚ çš„ 802.1Q æ ‡è®°ï¼Œå¡«å……å­—æ®µä¸º 14 å­—èŠ‚ã€‚ä¸­é—´è¿‡äº†ä¸ªè·¯ç”±äº¤æ¢è®¾å¤‡ï¼Œå»é™¤ 802.1Q æ ‡è®°ï¼Œä½†ä¸ä¼šå†è¡¥å……å¡«å……å­—æ®µã€‚æ‰€ä»¥ 56 å­—èŠ‚ç»„æˆæ˜¯ï¼š
> 14 å­—èŠ‚ ( Ethernet II é¦–éƒ¨é•¿åº¦ ) + 42 å­—èŠ‚ ( 28 å­—èŠ‚ ARP æ•°æ®åŒ… + 14 å­—èŠ‚å¡«å……æ•°æ® )  = 56 å­—èŠ‚

<br/>

# é—®é¢˜æ€»ç»“
å½“ç„¶ä¸ä»…ä»…æ˜¯ ARP æŠ¥æ–‡ï¼Œå¯¹äºä»¥å¤ªç½‘å¸§ 64 æˆ–è€… 60 å­—èŠ‚é•¿åº¦æ¥è¯´ï¼Œæ•°æ®å­—æ®µæœ€å°é•¿åº¦è¦æ±‚å§‹ç»ˆæ˜¯ 46 å­—èŠ‚ ï¼Œå†æ ¹æ®ä¸åŒçš„ä»¥å¤ªç½‘ç±»å‹å’Œé•¿åº¦ï¼Œå†³å®šæ˜¯å¦éœ€è¦ Padding ã€‚

<br/>

<br/>

**é™„ï¼šWireshark function blocks**


![](https://cdn.nlark.com/yuque/0/2021/png/2777842/1619942521448-95890353-8d68-4b41-bf03-98bcdb5b0bae.png#align=left&display=inline&height=659&margin=%5Bobject%20Object%5D&originHeight=659&originWidth=461&size=0&status=done&style=none&width=461)


